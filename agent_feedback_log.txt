≡ƒÜÇ Starting Real n8n Integration Test...
   Target: http://localhost:5678
≡ƒôñ Sending initialize request...
[SERVER LOG (STDERR)] [DEBUG] Starting Unified MCP Server.
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.036Z [INFO] Γ£ô n8n API configured and available
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.036Z [INFO] [LazyInit] Starting background initialization
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.036Z [INFO] [LazyInit] Phase 1: Opening database
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.040Z [INFO] [OllamaClient] Initialized {"baseUrl":"http://ollama:11434","timeout":60000}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.040Z [INFO] [OllamaClient] Initialized {"baseUrl":"http://ollama:11434","timeout":60000}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.040Z [INFO] GraphRAG Learning Service initialized {"embeddingModel":"nomic-embed-text","generationModel":"qwen2.5:3b","embeddingDimension":768,"mode":"active-llm"}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.040Z [INFO] Starting Graph Optimization Service...
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.042Z [INFO] ≡ƒôª Detected n8n version change: none ΓåÆ 1.121.3
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [INFO] ≡ƒôª Detected n8n-core version change: none ΓåÆ 1.120.2
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [INFO] ≡ƒôª Detected n8n-workflow version change: none ΓåÆ 1.118.2
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [INFO] ≡ƒôª Detected @n8n/n8n-nodes-langchain version change: none ΓåÆ 1.120.2
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [WARN] ΓÜá∩╕Å  n8n packages have been updated since last database build!
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [WARN]    - n8n: none ΓåÆ 1.121.3
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [WARN]    - n8n-core: none ΓåÆ 1.120.2
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [WARN]    - n8n-workflow: none ΓåÆ 1.118.2
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.043Z [WARN]    - @n8n/n8n-nodes-langchain: none ΓåÆ 1.120.2
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.044Z [INFO] [Nano Agents] Initializing GraphRAG orchestrator...
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.045Z [INFO] [GraphRAG Orchestrator] Initialized without LLM clients (rule-based fallback)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.045Z [INFO] [GraphRAG Orchestrator] Configuration: {"enableGraphRAG":true,"maxAgentRetries":2,"agentTimeoutMs":30000,"shareGraphInsights":true}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.045Z [INFO] [GraphRAG Orchestrator] Initializing agents...
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.048Z [INFO] SharedMemory Shared memory initialized successfully
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.048Z [INFO] Agent[pattern-agent] Initializing agent: Pattern Discovery Agent
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] [APISchemaLoader] API schema loaded successfully (v1.1.1)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] Unified MCP Server running on stdio
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] Agent[pattern-agent] Pattern agent initialized with 10 patterns (keyword matching only - no LLM)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] Agent[workflow-agent] Initializing agent: Workflow Generation Agent
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] Agent[workflow-agent] Workflow agent initialized with 10 node templates
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] Agent[validator-agent] Initializing agent: Workflow Validation Agent
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] Agent[validator-agent] Validator agent initialized with 22 known node types
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] [GraphRAG Orchestrator] All agents initialized
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] [Nano Agents] Orchestrator ready
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.049Z [INFO] [Server] Γ£à Nano agent orchestrator initialized
Γ£à Server Initialized
≡ƒôñ Sending create_workflow request...
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.067Z [INFO] Loaded existing database from C:\Users\Chris Boyd\Documents\MCP-Servers\One-Stop-Shop-N8N-MCP\data\nodes.db
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.067Z [INFO] [LazyInit] Database opened successfully
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.067Z [INFO] [LazyInit] Phase 2: Creating repository
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.067Z [INFO] [LazyInit] Repository created
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.067Z [INFO] [LazyInit] Phase 3: Creating services
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.067Z [INFO] [Cache] Auto-scaled to 1622MB (5.0% of 31.7GB RAM, 16357MB currently free)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.068Z [INFO] [Cache] Initialized with max 1622MB memory limit
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.068Z [INFO] [LazyInit] Γ£à Background initialization complete in 32ms
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.102Z [INFO] [Cache] Auto-scaled to 1622MB (5.0% of 31.7GB RAM, 16349MB currently free)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.102Z [INFO] [Cache] Initialized with max 1622MB memory limit
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.103Z [INFO] Checking n8n instance node synchronization...
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.117Z [INFO] [Cache] Auto-scaled to 1622MB (5.0% of 31.7GB RAM, 16349MB currently free)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.117Z [INFO] [Cache] Initialized with max 1622MB memory limit
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.117Z [INFO] n8n API client initialized {"url":"http://localhost:5678"}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.118Z [INFO] SharedMemory Shared memory initialized successfully
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.118Z [INFO] [HandlerSharedMemory] Initialized successfully
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.118Z [INFO] [handleCreateWorkflow] Validating node parameters against MCP database
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.118Z [INFO] [validateNodeParameters] Validating workflow node parameters {"nodeCount":3}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] [validateNodeParameters] All node parameters valid
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] [handleCreateWorkflow] Node parameter validation passed
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] [handleCreateWorkflow] Running semantic validation (built-in nodes first policy)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] 
[SERVER LOG (STDERR)] ≡ƒôè Workflow Semantic Validation Score: 100/100
[SERVER LOG (STDERR)] Γ£à PASSED - Workflow follows best practices
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] [handleCreateWorkflow] Γ£à Semantic validation passed (score: 100/100)
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] [handleCreateWorkflow] Workflow not in validation cache, running validation via unified system
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.128Z [INFO] [UnifiedValidation] Initialized unified validation system
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.129Z [INFO] [handleCreateWorkflow] Immediate validation passed
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.129Z [INFO] [handleCreateWorkflow] Running live n8n validation before creation
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.135Z [WARN] n8n API client error {"name":"N8nNotFoundError","message":"Resource with ID not found not found","code":"NOT_FOUND","statusCode":404,"context":"n8n API Response"}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.169Z [WARN] n8n API client error {"name":"N8nNotFoundError","message":"Resource with ID not found not found","code":"NOT_FOUND","statusCode":404,"context":"n8n API Response"}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.171Z [WARN] n8n API client error {"name":"N8nNotFoundError","message":"Resource with ID not found not found","code":"NOT_FOUND","statusCode":404,"context":"n8n API Response"}
[SERVER LOG (STDERR)] 2025-11-29T02:49:58.189Z [INFO] [handleCreateWorkflow] Live validation passed
≡ƒôÑ Received create_workflow response:
{
  "result": {
    "content": [
      {
        "type": "text",
        "text": "{\n  \"success\": true,\n  \"data\": {\n    \"name\": \"MCP Integration Test Workflow\",\n    \"nodes\": [\n      {\n        \"parameters\": {},\n        \"id\": \"manual-trigger\",\n        \"name\": \"When clicking 'Execute Workflow'\",\n        \"type\": \"n8n-nodes-base.manualTrigger\",\n        \"typeVersion\": 1,\n        \"position\": [\n          0,\n          0\n        ]\n      },\n      {\n        \"parameters\": {\n          \"content\": \"Hello from MCP Integration Test!\",\n          \"color\": 1,\n          \"height\": 100,\n          \"width\": 200\n        },\n        \"id\": \"markdown-node\",\n        \"name\": \"Markdown Note\",\n        \"type\": \"n8n-nodes-base.stickyNote\",\n        \"typeVersion\": 1,\n        \"position\": [\n          200,\n          0\n        ]\n      },\n      {\n        \"parameters\": {},\n        \"id\": \"noop-node\",\n        \"name\": \"Cache Buster\",\n        \"type\": \"n8n-nodes-base.noOp\",\n        \"typeVersion\": 1,\n        \"position\": [\n          400,\n          0\n        ]\n      }\n    ],\n    \"connections\": {\n      \"When clicking 'Execute Workflow'\": {\n        \"main\": [\n          [\n            {\n              \"node\": \"Markdown Note\",\n              \"type\": \"main\",\n              \"index\": 0\n            }\n          ]\n        ]\n      },\n      \"Markdown Note\": {\n        \"main\": [\n          [\n            {\n              \"node\": \"Cache Buster\",\n              \"type\": \"main\",\n              \"index\": 0\n            }\n          ]\n        ]\n      }\n    },\n    \"settings\": {\n      \"executionOrder\": \"v1\",\n      \"callerPolicy\": \"workflowsFromSameOwner\",\n      \"availableInMCP\": false\n    },\n    \"active\": false,\n    \"versionId\": \"98a81091-e553-4af7-8cea-dd4e94f70afc\",\n    \"id\": \"J24rLz0I1jdVvSg0\",\n    \"description\": null,\n    \"staticData\": null,\n    \"meta\": null,\n    \"pinData\": null,\n    \"updatedAt\": \"2025-11-29T02:49:58.200Z\",\n    \"createdAt\": \"2025-11-29T02:49:58.200Z\",\n    \"isArchived\": false,\n    \"versionCounter\": 1,\n    \"triggerCount\": 0\n  },\n  \"message\": \"Workflow \\\"MCP Integration Test Workflow\\\" created successfully with ID: J24rLz0I1jdVvSg0\"\n}"
      }
    ]
  },
  "jsonrpc": "2.0",
  "id": 2
}
Γ£à Workflow created successfully! ID: J24rLz0I1jdVvSg0
≡ƒæë Check your n8n dashboard at http://localhost:5678/workflow/J24rLz0I1jdVvSg0
