≡ƒÜÇ Starting Workflow Fix & Copy for ID: A9h8Zsm6kYpsmilu...
[SERVER LOG] [DEBUG] Starting Unified MCP Server.

[SERVER LOG] 2025-11-29T11:15:21.815Z [INFO] Γ£ô n8n API configured and available

[SERVER LOG] 2025-11-29T11:15:21.815Z [INFO] [LazyInit] Starting background initialization

[SERVER LOG] 2025-11-29T11:15:21.815Z [INFO] [LazyInit] Phase 1: Opening database

[SERVER LOG] 2025-11-29T11:15:21.819Z [INFO] [OllamaClient] Initialized {"baseUrl":"http://ollama:11434","timeout":60000}

[SERVER LOG] 2025-11-29T11:15:21.819Z [INFO] [OllamaClient] Initialized {"baseUrl":"http://ollama:11434","timeout":60000}
2025-11-29T11:15:21.819Z [INFO] GraphRAG Learning Service initialized {"embeddingModel":"nomic-embed-text","generationModel":"qwen2.5:3b","embeddingDimension":768,"mode":"active-llm"}

[SERVER LOG] 2025-11-29T11:15:21.819Z [INFO] Starting Graph Optimization Service...

[SERVER LOG] 2025-11-29T11:15:21.822Z [INFO] ≡ƒôª Detected n8n version change: none ΓåÆ 1.121.3

[SERVER LOG] 2025-11-29T11:15:21.822Z [INFO] ≡ƒôª Detected n8n-core version change: none ΓåÆ 1.120.2

[SERVER LOG] 2025-11-29T11:15:21.822Z [INFO] ≡ƒôª Detected n8n-workflow version change: none ΓåÆ 1.118.2

[SERVER LOG] 2025-11-29T11:15:21.822Z [INFO] ≡ƒôª Detected @n8n/n8n-nodes-langchain version change: none ΓåÆ 1.120.2

[SERVER LOG] 2025-11-29T11:15:21.823Z [WARN] ΓÜá∩╕Å  n8n packages have been updated since last database build!

[SERVER LOG] 2025-11-29T11:15:21.823Z [WARN]    - n8n: none ΓåÆ 1.121.3

[SERVER LOG] 2025-11-29T11:15:21.823Z [WARN]    - n8n-core: none ΓåÆ 1.120.2
2025-11-29T11:15:21.823Z [WARN]    - n8n-workflow: none ΓåÆ 1.118.2

[SERVER LOG] 2025-11-29T11:15:21.823Z [WARN]    - @n8n/n8n-nodes-langchain: none ΓåÆ 1.120.2

[SERVER LOG] 2025-11-29T11:15:21.824Z [INFO] [Nano Agents] Initializing GraphRAG orchestrator...

[SERVER LOG] 2025-11-29T11:15:21.824Z [INFO] [GraphRAG Orchestrator] Initialized without LLM clients (rule-based fallback)

[SERVER LOG] 2025-11-29T11:15:21.824Z [INFO] [GraphRAG Orchestrator] Configuration: {"enableGraphRAG":true,"maxAgentRetries":2,"agentTimeoutMs":30000,"shareGraphInsights":true}

[SERVER LOG] 2025-11-29T11:15:21.824Z [INFO] [GraphRAG Orchestrator] Initializing agents...

[SERVER LOG] 2025-11-29T11:15:21.827Z [INFO] SharedMemory Shared memory initialized successfully

[SERVER LOG] 2025-11-29T11:15:21.827Z [INFO] Agent[pattern-agent] Initializing agent: Pattern Discovery Agent

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] [APISchemaLoader] API schema loaded successfully (v1.1.1)

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] Unified MCP Server running on stdio

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] Agent[pattern-agent] Pattern agent initialized with 10 patterns (keyword matching only - no LLM)

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] Agent[workflow-agent] Initializing agent: Workflow Generation Agent

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] Agent[workflow-agent] Workflow agent initialized with 10 node templates

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] Agent[validator-agent] Initializing agent: Workflow Validation Agent

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] Agent[validator-agent] Validator agent initialized with 22 known node types

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] [GraphRAG Orchestrator] All agents initialized
2025-11-29T11:15:21.828Z [INFO] [Nano Agents] Orchestrator ready

[SERVER LOG] 2025-11-29T11:15:21.828Z [INFO] [Server] Γ£à Nano agent orchestrator initialized

Γ£à Server Initialized
≡ƒôñ Fetching original workflow...
[SERVER LOG] 2025-11-29T11:15:21.835Z [INFO] n8n API client initialized {"url":"http://localhost:5678"}

[SERVER LOG] 2025-11-29T11:15:21.860Z [INFO] Loaded existing database from C:\Users\Chris Boyd\Documents\MCP-Servers\One-Stop-Shop-N8N-MCP\data\nodes.db

[SERVER LOG] 2025-11-29T11:15:21.860Z [INFO] [LazyInit] Database opened successfully
2025-11-29T11:15:21.860Z [INFO] [LazyInit] Phase 2: Creating repository

[SERVER LOG] 2025-11-29T11:15:21.860Z [INFO] [LazyInit] Repository created
2025-11-29T11:15:21.860Z [INFO] [LazyInit] Phase 3: Creating services

[SERVER LOG] 2025-11-29T11:15:21.861Z [INFO] [Cache] Auto-scaled to 1622MB (5.0% of 31.7GB RAM, 17924MB currently free)

[SERVER LOG] 2025-11-29T11:15:21.861Z [INFO] [Cache] Initialized with max 1622MB memory limit

[SERVER LOG] 2025-11-29T11:15:21.861Z [INFO] [LazyInit] Γ£à Background initialization complete in 46ms

Γ£à Workflow fetched
≡ƒ¢á∩╕Å Applying fixes...
   - Removed outlier node: 'HTTP Request'
   - Removed outlier node: 'Switch'
≡ƒöì Validating refined workflow...
[SERVER LOG] 2025-11-29T11:15:21.868Z [INFO] [Cache] Auto-scaled to 1622MB (5.0% of 31.7GB RAM, 17924MB currently free)

[SERVER LOG] 2025-11-29T11:15:21.868Z [INFO] [Cache] Initialized with max 1622MB memory limit

≡ƒôÑ Received validation response
Validation Result: {
  "valid": true,
  "validationCached": true,
  "cacheHash": "ndwtcq",
  "summary": {
    "totalNodes": 22,
    "enabledNodes": 22,
    "triggerNodes": 2,
    "validConnections": 21,
    "invalidConnections": 0,
    "expressionsValidated": 0,
    "errorCount": 0,
    "warningCount": 34
  },
  "warnings": [
    {
      "node": "Outlook Email Trigger",
      "message": {
        "type": "inefficient",
        "property": "pollTimes",
        "message": "Property 'pollTimes' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Process Email for RAG",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Process Email for RAG",
      "message": {
        "type": "inefficient",
        "property": "jsCode",
        "message": "Property 'jsCode' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Process Teams Input",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Process Teams Input",
      "message": {
        "type": "inefficient",
        "property": "jsCode",
        "message": "Property 'jsCode' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "OpenAI Chat Model",
      "message": "Outdated typeVersion: 1. Latest is 1.3"
    },
    {
      "node": "Window Buffer Memory",
      "message": "Outdated typeVersion: 1. Latest is 1.3"
    },
    {
      "node": "Fraud Classifier",
      "message": "Outdated typeVersion: 1. Latest is 3"
    },
    {
      "node": "Fraud Classifier",
      "message": {
        "type": "inefficient",
        "property": "text",
        "message": "Property 'text' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Billing RAG Agent",
      "message": "Outdated typeVersion: 1. Latest is 3"
    },
    {
      "node": "Billing RAG Agent",
      "message": {
        "type": "inefficient",
        "property": "text",
        "message": "Property 'text' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "High Priority RAG Agent",
      "message": "Outdated typeVersion: 1. Latest is 3"
    },
    {
      "node": "High Priority RAG Agent",
      "message": {
        "type": "inefficient",
        "property": "text",
        "message": "Property 'text' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "AI Agent (Central)",
      "message": "Outdated typeVersion: 1. Latest is 3"
    },
    {
      "node": "AI Agent (Central)",
      "message": {
        "type": "inefficient",
        "property": "text",
        "message": "Property 'text' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Postgres Memory",
      "message": "Outdated typeVersion: 1. Latest is 2.6"
    },
    {
      "node": "Postgres Memory",
      "message": {
        "type": "inefficient",
        "property": "operation",
        "message": "Property 'operation' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Postgres Memory",
      "message": {
        "type": "inefficient",
        "property": "additionalFields",
        "message": "Property 'additionalFields' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Search Emails",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Search Emails",
      "message": {
        "type": "inefficient",
        "property": "operation",
        "message": "Property 'operation' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Search Emails",
      "message": {
        "type": "inefficient",
        "property": "additionalFields",
        "message": "Property 'additionalFields' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Get Calendar Events",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Create Calendar Event",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Create Draft",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Create Draft",
      "message": {
        "type": "inefficient",
        "property": "operation",
        "message": "Property 'operation' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Send Email",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Send Email",
      "message": {
        "type": "inefficient",
        "property": "additionalFields",
        "message": "Property 'additionalFields' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "Send Teams Response",
      "message": "Outdated typeVersion: 1. Latest is 2"
    },
    {
      "node": "Send Teams Response",
      "message": {
        "type": "inefficient",
        "property": "operation",
        "message": "Property 'operation' is configured but won't be used due to current settings",
        "suggestion": "Remove this property or adjust other settings to make it visible"
      }
    },
    {
      "node": "workflow",
      "message": "Consider adding error handling to your workflow"
    },
    {
      "node": "Fraud Classifier",
      "message": "AI Agent has no tools connected. Consider adding tools to enhance agent capabilities."
    },
    {
      "node": "Billing RAG Agent",
      "message": "AI Agent has no tools connected. Consider adding tools to enhance agent capabilities."
    },
    {
      "node": "High Priority RAG Agent",
      "message": "AI Agent has no tools connected. Consider adding tools to enhance agent capabilities."
    },
    {
      "node": "AI Agent (Central)",
      "message": "AI Agent has no tools connected. Consider adding tools to enhance agent capabilities."
    }
  ],
  "suggestions": [
    "Add error handling using the error output of nodes or an Error Trigger node",
    "Consider breaking this workflow into smaller sub-workflows for better maintainability"
  ],
  "mode": "full",
  "validationOptions": {
    "validateNodes": true,
    "validateConnections": true,
    "validateExpressions": true
  },
  "modeDescription": "Complete validation including nodes, connections, and expressions"
}
Γ£à Validation passed.
≡ƒôñ Creating new workflow: "Copy of Teams-Outlook RAG Assistant - Natural Language Ready (Refined Fix)"...
[SERVER LOG] 2025-11-29T11:15:21.888Z [INFO] [Cache] Auto-scaled to 1622MB (5.0% of 31.7GB RAM, 17905MB currently free)
2025-11-29T11:15:21.888Z [INFO] [Cache] Initialized with max 1622MB memory limit
2025-11-29T11:15:21.889Z [INFO] Checking n8n instance node synchronization...

[SERVER LOG] 2025-11-29T11:15:21.891Z [INFO] SharedMemory Shared memory initialized successfully
2025-11-29T11:15:21.891Z [INFO] [HandlerSharedMemory] Initialized successfully

[SERVER LOG] 2025-11-29T11:15:21.891Z [INFO] [handleCreateWorkflow] Validating node parameters against MCP database

[SERVER LOG] 2025-11-29T11:15:21.892Z [INFO] [validateNodeParameters] Validating workflow node parameters {"nodeCount":22}

[SERVER LOG] 2025-11-29T11:15:21.896Z [INFO] [validateNodeParameters] All node parameters valid
2025-11-29T11:15:21.896Z [INFO] [handleCreateWorkflow] Node parameter validation passed
2025-11-29T11:15:21.896Z [INFO] [handleCreateWorkflow] Running semantic validation (built-in nodes first policy)

[SERVER LOG] 2025-11-29T11:15:21.896Z [INFO] 
≡ƒôè Workflow Semantic Validation Score: 100/100
Γ£à PASSED - Workflow follows best practices

[SERVER LOG] 2025-11-29T11:15:21.896Z [INFO] [handleCreateWorkflow] Γ£à Semantic validation passed (score: 100/100)

[SERVER LOG] 2025-11-29T11:15:21.897Z [INFO] [handleCreateWorkflow] Running live n8n validation before creation

[SERVER LOG] 2025-11-29T11:15:21.899Z [WARN] n8n API client error {"name":"N8nNotFoundError","message":"Resource with ID not found not found","code":"NOT_FOUND","statusCode":404,"context":"n8n API Response"}

[SERVER LOG] 2025-11-29T11:15:21.931Z [WARN] n8n API client error {"name":"N8nNotFoundError","message":"Resource with ID not found not found","code":"NOT_FOUND","statusCode":404,"context":"n8n API Response"}

[SERVER LOG] 2025-11-29T11:15:21.933Z [WARN] n8n API client error {"name":"N8nNotFoundError","message":"Resource with ID not found not found","code":"NOT_FOUND","statusCode":404,"context":"n8n API Response"}

[SERVER LOG] 2025-11-29T11:15:21.961Z [INFO] [handleCreateWorkflow] Live validation passed

≡ƒôÑ Received creation response
Γ£à SUCCESS! Created new workflow.
   ID: 4LG0glVFWaXenUpk
   Name: Copy of Teams-Outlook RAG Assistant - Natural Language Ready (Refined Fix)
